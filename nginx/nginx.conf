server {
    listen 80;
    server_name _;  # 匹配所有主机名(你也可改成你的域名)

    # 前端: 当访问根路径 / 或静态资源时，反向代理到前端(容器内host:port => frontend:3000)
    location / {
        proxy_pass http://frontend:3000;
        # 或者用服务名 'frontend:3000'，要与docker-compose.yml里services的name一致
        # proxy_pass http://frontend:3000;
    }

    # 后端: 当访问 /api/... 时，反向代理到后端
    location /api/ {
        # 把 /api/ 转发到 http://backend:8080/
        # 这里如果不想带 /api 前缀，也可以做个rewrite
        proxy_pass http://backend:8080/;
        # 或者 proxy_pass http://backend:8080/;
    }
}
